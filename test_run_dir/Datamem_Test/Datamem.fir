;buildInfoPackage: chisel3, version: 3.4.3, scalaVersion: 2.12.12, sbtVersion: 1.3.10
circuit Datamem : 
  module Datamem : 
    input clock : Clock
    input reset : UInt<1>
    output io : {flip Wen : UInt<1>, flip addr : UInt<32>, flip datain : SInt<32>, dataout : SInt<32>, flip fun3 : UInt<3>}
    
    cmem memory : SInt<8>[4][1024] @[Datamem.scala 14:19]
    reg mask : UInt<1>[4], clock @[Datamem.scala 15:17]
    wire tempstore : SInt<8>[4] @[Datamem.scala 16:23]
    wire tempread : SInt<8>[4] @[Datamem.scala 17:22]
    node _tempstore_0_T = bits(io.datain, 7, 0) @[Datamem.scala 19:28]
    node _tempstore_0_T_1 = asSInt(_tempstore_0_T) @[Datamem.scala 19:40]
    tempstore[0] <= _tempstore_0_T_1 @[Datamem.scala 19:16]
    node _tempstore_1_T = bits(io.datain, 15, 8) @[Datamem.scala 20:28]
    node _tempstore_1_T_1 = asSInt(_tempstore_1_T) @[Datamem.scala 20:41]
    tempstore[1] <= _tempstore_1_T_1 @[Datamem.scala 20:16]
    node _tempstore_2_T = bits(io.datain, 23, 16) @[Datamem.scala 21:28]
    node _tempstore_2_T_1 = asSInt(_tempstore_2_T) @[Datamem.scala 21:42]
    tempstore[2] <= _tempstore_2_T_1 @[Datamem.scala 21:16]
    node _tempstore_3_T = bits(io.datain, 31, 24) @[Datamem.scala 22:28]
    node _tempstore_3_T_1 = asSInt(_tempstore_3_T) @[Datamem.scala 22:42]
    tempstore[3] <= _tempstore_3_T_1 @[Datamem.scala 22:16]
    io.dataout <= asSInt(UInt<1>("h00")) @[Datamem.scala 23:14]
    when io.Wen : @[Datamem.scala 25:16]
      node _T = eq(io.fun3, UInt<1>("h00")) @[Datamem.scala 26:18]
      when _T : @[Datamem.scala 26:27]
        node _T_1 = bits(io.addr, 1, 0) @[Datamem.scala 27:19]
        node _T_2 = eq(_T_1, UInt<1>("h00")) @[Datamem.scala 27:26]
        when _T_2 : @[Datamem.scala 27:35]
          mask[0] <= UInt<1>("h01") @[Datamem.scala 28:17]
          mask[1] <= UInt<1>("h00") @[Datamem.scala 29:17]
          mask[2] <= UInt<1>("h00") @[Datamem.scala 30:17]
          mask[3] <= UInt<1>("h00") @[Datamem.scala 31:17]
          skip @[Datamem.scala 27:35]
        else : @[Datamem.scala 32:41]
          node _T_3 = bits(io.addr, 1, 0) @[Datamem.scala 32:25]
          node _T_4 = eq(_T_3, UInt<1>("h01")) @[Datamem.scala 32:32]
          when _T_4 : @[Datamem.scala 32:41]
            mask[0] <= UInt<1>("h00") @[Datamem.scala 33:17]
            mask[1] <= UInt<1>("h01") @[Datamem.scala 34:17]
            mask[2] <= UInt<1>("h00") @[Datamem.scala 35:17]
            mask[3] <= UInt<1>("h00") @[Datamem.scala 36:17]
            node _tempstore_1_T_2 = bits(io.datain, 7, 0) @[Datamem.scala 38:34]
            node _tempstore_1_T_3 = asSInt(_tempstore_1_T_2) @[Datamem.scala 38:46]
            tempstore[1] <= _tempstore_1_T_3 @[Datamem.scala 38:22]
            skip @[Datamem.scala 32:41]
          else : @[Datamem.scala 41:41]
            node _T_5 = bits(io.addr, 1, 0) @[Datamem.scala 41:25]
            node _T_6 = eq(_T_5, UInt<2>("h02")) @[Datamem.scala 41:32]
            when _T_6 : @[Datamem.scala 41:41]
              mask[0] <= UInt<1>("h00") @[Datamem.scala 42:17]
              mask[1] <= UInt<1>("h00") @[Datamem.scala 43:17]
              mask[2] <= UInt<1>("h01") @[Datamem.scala 44:17]
              mask[3] <= UInt<1>("h00") @[Datamem.scala 45:17]
              node _tempstore_2_T_2 = bits(io.datain, 7, 0) @[Datamem.scala 47:34]
              node _tempstore_2_T_3 = asSInt(_tempstore_2_T_2) @[Datamem.scala 47:46]
              tempstore[2] <= _tempstore_2_T_3 @[Datamem.scala 47:22]
              skip @[Datamem.scala 41:41]
            else : @[Datamem.scala 50:41]
              node _T_7 = bits(io.addr, 1, 0) @[Datamem.scala 50:25]
              node _T_8 = eq(_T_7, UInt<2>("h03")) @[Datamem.scala 50:32]
              when _T_8 : @[Datamem.scala 50:41]
                mask[0] <= UInt<1>("h00") @[Datamem.scala 51:17]
                mask[1] <= UInt<1>("h00") @[Datamem.scala 52:17]
                mask[2] <= UInt<1>("h00") @[Datamem.scala 53:17]
                mask[3] <= UInt<1>("h01") @[Datamem.scala 54:17]
                node _tempstore_3_T_2 = bits(io.datain, 7, 0) @[Datamem.scala 56:34]
                node _tempstore_3_T_3 = asSInt(_tempstore_3_T_2) @[Datamem.scala 56:46]
                tempstore[3] <= _tempstore_3_T_3 @[Datamem.scala 56:22]
                skip @[Datamem.scala 50:41]
        skip @[Datamem.scala 26:27]
      node _T_9 = bits(io.addr, 31, 2) @[Datamem.scala 62:27]
      node _T_10 = bits(_T_9, 9, 0)
      write mport MPORT = memory[_T_10], clock
      when mask[0] :
        MPORT[0] <= tempstore[0]
        skip
      when mask[1] :
        MPORT[1] <= tempstore[1]
        skip
      when mask[2] :
        MPORT[2] <= tempstore[2]
        skip
      when mask[3] :
        MPORT[3] <= tempstore[3]
        skip
      node _T_11 = bits(io.addr, 31, 2) @[Datamem.scala 63:38]
      node _T_12 = bits(_T_11, 9, 0) @[Datamem.scala 63:30]
      read mport MPORT_1 = memory[_T_12], clock @[Datamem.scala 63:30]
      tempread[0] <= MPORT_1[0] @[Datamem.scala 63:16]
      tempread[1] <= MPORT_1[1] @[Datamem.scala 63:16]
      tempread[2] <= MPORT_1[2] @[Datamem.scala 63:16]
      tempread[3] <= MPORT_1[3] @[Datamem.scala 63:16]
      node io_dataout_lo_lo = asUInt(tempread[0]) @[Cat.scala 30:58]
      node io_dataout_lo_hi = asUInt(tempread[1]) @[Cat.scala 30:58]
      node io_dataout_lo = cat(io_dataout_lo_hi, io_dataout_lo_lo) @[Cat.scala 30:58]
      node io_dataout_hi_lo = asUInt(tempread[2]) @[Cat.scala 30:58]
      node io_dataout_hi_hi = asUInt(tempread[3]) @[Cat.scala 30:58]
      node io_dataout_hi = cat(io_dataout_hi_hi, io_dataout_hi_lo) @[Cat.scala 30:58]
      node _io_dataout_T = cat(io_dataout_hi, io_dataout_lo) @[Cat.scala 30:58]
      node _io_dataout_T_1 = asSInt(_io_dataout_T) @[Datamem.scala 64:80]
      io.dataout <= _io_dataout_T_1 @[Datamem.scala 64:18]
      skip @[Datamem.scala 25:16]
    node _T_13 = bits(io.addr, 31, 2) @[Datamem.scala 67:34]
    node _T_14 = bits(_T_13, 9, 0) @[Datamem.scala 67:26]
    read mport MPORT_2 = memory[_T_14], clock @[Datamem.scala 67:26]
    tempread[0] <= MPORT_2[0] @[Datamem.scala 67:12]
    tempread[1] <= MPORT_2[1] @[Datamem.scala 67:12]
    tempread[2] <= MPORT_2[2] @[Datamem.scala 67:12]
    tempread[3] <= MPORT_2[3] @[Datamem.scala 67:12]
    node io_dataout_lo_lo_1 = asUInt(tempread[0]) @[Cat.scala 30:58]
    node io_dataout_lo_hi_1 = asUInt(tempread[1]) @[Cat.scala 30:58]
    node io_dataout_lo_1 = cat(io_dataout_lo_hi_1, io_dataout_lo_lo_1) @[Cat.scala 30:58]
    node io_dataout_hi_lo_1 = asUInt(tempread[2]) @[Cat.scala 30:58]
    node io_dataout_hi_hi_1 = asUInt(tempread[3]) @[Cat.scala 30:58]
    node io_dataout_hi_1 = cat(io_dataout_hi_hi_1, io_dataout_hi_lo_1) @[Cat.scala 30:58]
    node _io_dataout_T_2 = cat(io_dataout_hi_1, io_dataout_lo_1) @[Cat.scala 30:58]
    node _io_dataout_T_3 = asSInt(_io_dataout_T_2) @[Datamem.scala 68:79]
    io.dataout <= _io_dataout_T_3 @[Datamem.scala 68:14]
    
